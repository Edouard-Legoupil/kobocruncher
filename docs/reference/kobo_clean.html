<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Basic data cleaning is often required. This functions covers tow use cases:
Use Case 1 - Need to re-categorize the modalities for a select_one or select_multiple
Use case 2-  Need to re-encode one variable based on a cleaned open text question
To address those situation, the kobo_clean function is building, if not set-up,  a cleaning log
for all the variables where the clean cell is not empty within the extended xlsform.
The cleaning log has only 3 columns: variable - old value - new value
This cleaning log can be then easily be adjusted in excel and used in the cleaning workflow when
running the function.
If the cell clean for the variables refers to the name of another variable that is also included
in the cleaning log, then this second variable will be used to clean the first one from the second one.
This behavior allow to manage the use case 2.
Note that this function can also be used to adjust in order to treat the data and reduce data disclosure risk
See kobo_anonymise"><title>Apply cleaning to selected variables within the xlsform — kobo_clean • kobocruncher</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Lato-0.4.4/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.4/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Apply cleaning to selected variables within the xlsform — kobo_clean"><meta property="og:description" content="Basic data cleaning is often required. This functions covers tow use cases:
Use Case 1 - Need to re-categorize the modalities for a select_one or select_multiple
Use case 2-  Need to re-encode one variable based on a cleaned open text question
To address those situation, the kobo_clean function is building, if not set-up,  a cleaning log
for all the variables where the clean cell is not empty within the extended xlsform.
The cleaning log has only 3 columns: variable - old value - new value
This cleaning log can be then easily be adjusted in excel and used in the cleaning workflow when
running the function.
If the cell clean for the variables refers to the name of another variable that is also included
in the cleaning log, then this second variable will be used to clean the first one from the second one.
This behavior allow to manage the use case 2.
Note that this function can also be used to adjust in order to treat the data and reduce data disclosure risk
See kobo_anonymise"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">kobocruncher</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/crunching-function-for-xlsform.html">Crunching Function for XlsForm</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Edouard-Legoupil/kobocruncher/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Apply cleaning to selected variables within the xlsform</h1>
      <small class="dont-index">Source: <a href="https://github.com/Edouard-Legoupil/kobocruncher/blob/HEAD/R/kobo_clean.R" class="external-link"><code>R/kobo_clean.R</code></a></small>
      <div class="d-none name"><code>kobo_clean.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Basic data cleaning is often required. This functions covers tow use cases:
Use Case 1 - Need to re-categorize the modalities for a select_one or select_multiple
Use case 2-  Need to re-encode one variable based on a cleaned open text question</p>
<p>To address those situation, the kobo_clean function is building, if not set-up,  a cleaning log
for all the variables where the clean cell is not empty within the extended xlsform.</p>
<p>The cleaning log has only 3 columns: variable - old value - new value
This cleaning log can be then easily be adjusted in excel and used in the cleaning workflow when
running the function.</p>
<p>If the cell <code>clean</code> for the variables refers to the name of another variable that is also included
in the cleaning log, then this second variable will be used to clean the first one from the second one.
This behavior allow to manage the use case 2.</p>
<p>Note that this function can also be used to adjust in order to treat the data and reduce data disclosure risk
See kobo_anonymise</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">kobo_clean</span><span class="op">(</span><span class="va">datalist</span>, <span class="va">dico</span>, indicatoradd <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>datalist</dt>
<dd><p>An object of the "datalist" class as defined in kobocruncher</p></dd>


<dt>dico</dt>
<dd><p>An object of the "kobodico" class format as defined in kobocruncher</p></dd>


<dt>indicatoradd</dt>
<dd><p>a list with instruction to create new calculated indicator</p></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># dico &lt;- kobo_dico( xlsformpath = system.file("sample_xlsform.xlsx", package = "kobocruncher") )</span></span></span>
<span class="r-in"><span><span class="co"># datalist &lt;- kobo_data(datapath = system.file("data.xlsx", package = "kobocruncher") )</span></span></span>
<span class="r-in"><span><span class="co"># </span></span></span>
<span class="r-in"><span><span class="co"># kobo_clean(datalist = datalist,</span></span></span>
<span class="r-in"><span><span class="co">#                    dico = dico,</span></span></span>
<span class="r-in"><span><span class="co">#                 indicatoradd = indicatoradd   )</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> </span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Edouard Legoupil, Hisham Galal.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

